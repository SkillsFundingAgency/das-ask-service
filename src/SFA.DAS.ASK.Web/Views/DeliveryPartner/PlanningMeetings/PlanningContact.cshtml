@model SFA.DAS.ASK.Web.ViewModels.DeliveryPartner.PlanningMeetings.PlanningContactViewModel
@{
    ViewData["Title"] = "Organisation contact";
    var confirmButtonText = (Model.Edit) ? "Save" : "Continue";
}

@if (Model.Edit)
{
    <a class="govuk-back-link" asp-action="Index" asp-controller="CheckAnswers" asp-route-supportId="@Model.SupportId">Back</a>
}
else
{
    <a class="govuk-back-link" asp-action="Index" asp-controller="SchedulePlanningMeeting" asp-route-supportId="@Model.SupportId">Back</a>
}

<main class="govuk-main-wrapper" id="main-content" role="main">
    <div class="govuk-grid-row">

        <div class="govuk-grid-column-two-thirds">
            <h1 class="govuk-heading-xl">
                Planned contact at @Model.OrganisationName
            </h1>

            <form method="post">

                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <div class="govuk-radios govuk-radios--conditional" data-module="govuk-radios">

                            <input type="hidden" asp-for="OrganisationName" />
                            <input type="hidden" asp-for="OrganisationId" />

                            @foreach (var contact in Model.Contacts)
                            {
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" type="radio" asp-for="SelectedContact" value="@contact.Id" />
                                    <label class="govuk-label govuk-radios__label" for="organisationType_other">@contact.FirstName @contact.LastName</label>
                                    <span class="govuk-hint govuk-radios__hint"> @contact.PhoneNumber</span>
                                    <span class="govuk-hint govuk-radios__hint"> @contact.Email</span>
                                </div>

                            }

                            <div class="govuk-radios__item">
                                <input class="govuk-radios__input" type="radio" asp-for="SelectedContact" id="organisationType_other" value="null" data-aria-controls="conditional_organisationType_other" />
                                <label class="govuk-label govuk-radios__label" for="organisationType_other"> Other contact</label>
                            </div>

                            <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional_organisationType_other">
                                <div class="govuk-form-group" sfa-gds-error-class-for="NewFirstName">
                                    <label class="govuk-label" for="organisationType_other_details"> First name </label>
                                    <span sfa-gds-error-message-for="NewFirstName"></span>
                                    <input class="govuk-input govuk-!-width-one-third" id="organisationType_other_details" asp-for="NewFirstName">
                                </div>
                                <div class="govuk-form-group" sfa-gds-error-class-for="NewLastName">
                                    <label class="govuk-label" for="organisationType_other_details"> Last name </label>
                                    <span sfa-gds-error-message-for="NewLastName"></span>
                                    <input class="govuk-input govuk-!-width-one-third" id="organisationType_other_details" asp-for="NewLastName">
                                </div>
                                <div class="govuk-form-group" sfa-gds-error-class-for="NewPhoneNumber">
                                    <label class="govuk-label" for="organisationType_other_details"> Telephone </label>
                                    <span sfa-gds-error-message-for="NewPhoneNumber"></span>
                                    <input class="govuk-input govuk-!-width-one-third" id="organisationType_other_details" asp-for="NewPhoneNumber">
                                </div>
                                <div class="govuk-form-group" sfa-gds-error-class-for="NewEmail">
                                    <label class="govuk-label" for="organisationType_other_details"> Email </label>
                                    <span sfa-gds-error-message-for="NewEmail"></span>
                                    <input class="govuk-input govuk-!-width-one-third" id="organisationType_other_details" asp-for="NewEmail">
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <button class="govuk-button" type="submit">@confirmButtonText</button>
                @if (Model.Edit)
                {
                    <a asp-action="Index" asp-controller="CheckAnswers" asp-route-supportId="@Model.SupportId" class="das-button--link">Cancel</a>
                }

            </form>
        </div>
    </div>
</main>